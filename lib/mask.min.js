const DIGIT='9',ALPHA='A',ALPHANUM='S',isDigitPattern=a=>a===DIGIT,isAlphaPattern=a=>a===ALPHA,isAlphaNumPattern=a=>a===ALPHANUM,isPatternCharLiteral=a=>![DIGIT,ALPHA,ALPHANUM].includes(a),DIGIT_RE=/[0-9]/,ALPHA_RE=/[a-z]/i,ALPHA_NUM_RE=/[0-9a-z]/i,isDigit=a=>DIGIT_RE.test(a),isAlpha=a=>ALPHA_RE.test(a),isAlphaNum=a=>ALPHA_NUM_RE.test(a),isPatternMatch=(a,b)=>isDigitPattern(a)&&isDigit(b)||isAlphaPattern(a)&&isAlpha(b)||isAlphaNumPattern(a)&&isAlphaNum(b);this.mask=(a='',b={})=>{const{pattern:c=b,placeholder:d=''}=b;return[...c].reduce(([a,b,c],e,f,g)=>c?[a,b,c]:b||d?isPatternCharLiteral(e)?[`${a}${e}`,b]:isPatternMatch(e,b[0])?[`${a}${b[0]}`,b.slice(1)]:d?[`${a}${d}`,b]:[a,b,!0]:g.slice(f).every(isPatternCharLiteral)?[`${a}${e}`,b]:[a,b,!0],['',(a+'').replace(/\W/g,'').padEnd(c.replace(/\W/g,'').length,d),!1])[0]};
